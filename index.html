<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>RPG Web Game</title>

<style>
body{
    margin:0;
    background:black;
    color:white;
    text-align:center;
    font-family:Arial;
}

h1{
    margin-top:10px;
}

canvas{
    background:#2c3e50;
    margin-top:20px;
    border:4px solid white;
}
</style>
</head>

<body>

<h1>üéÆ RPG Browser Game</h1>
<p>D√πng ph√≠m ‚Üë ‚Üì ‚Üê ‚Üí ƒë·ªÉ di chuy·ªÉn</p>

<canvas id="game" width="640" height="400"></canvas>

<script>

const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let player = {
    x:300,
    y:180,
    size:20,
    speed:4
};

let keys = {};

document.addEventListener("keydown",(e)=>{
    keys[e.key]=true;
});

document.addEventListener("keyup",(e)=>{
    keys[e.key]=false;
});

function update(){

    if(keys["ArrowUp"]) player.y -= player.speed;
    if(keys["ArrowDown"]) player.y += player.speed;
    if(keys["ArrowLeft"]) player.x -= player.speed;
    if(keys["ArrowRight"]) player.x += player.speed;

    // gi·ªõi h·∫°n m√†n h√¨nh
    if(player.x<0) player.x=0;
    if(player.y<0) player.y=0;
    if(player.x>canvas.width-player.size) player.x=canvas.width-player.size;
    if(player.y>canvas.height-player.size) player.y=canvas.height-player.size;
}

function draw(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    // n·ªÅn c·ªè
    ctx.fillStyle="#3aa655";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    // nh√¢n v·∫≠t
    ctx.fillStyle="yellow";
    ctx.fillRect(player.x,player.y,player.size,player.size);

    // NPC
    ctx.fillStyle="red";
    ctx.fillRect(100,100,20,20);

    // ch·∫°m NPC
    if(Math.abs(player.x-100)<20 && Math.abs(player.y-100)<20){
        ctx.fillStyle="white";
        ctx.font="18px Arial";
        ctx.fillText("Xin ch√†o ng∆∞·ªùi ch∆°i!",230,30);
    }
}

function gameLoop(){
    update();
    draw();
    requestAnimationFrame(gameLoop);
}

gameLoop();

</script>

</body>
</html>

